# 2023_02_08
## 1. ğŸ”—[í”„ë¡œì íŠ¸ ìƒì„±](./2023_02_07.md)
   
## 2. urlê³¼ ëª¨ë¸ ì‘ì„± 
* myphoto í´ë” ì•ˆì— urls.py íŒŒì¼ì„ ìˆ˜ì •í•œë‹¤.
  
  ```python
    from django.contrib import admin
    from django.urls import path, include
    # ì‚¬ìš©í•¨ì— í•„ìš”í•œ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì˜¨ë‹¤.

    urlpatterns = [
        path('admin/', admin.site.urls),
        # adminì— ëŒ€í•œ urlì´ë‹¤
        path('',include('photo.urls'))
        # http://127.0.0.1/~~~   => photo.urls
        # pthoto.urlsë¥¼ í†µí•´ì„œ ''ì´í›„ë¶€í„° photoì•±ë‚´ì˜ urlì„ ì°¸ì¡°í•˜ì—¬ ì‹¤í–‰í•œë‹¤.
    ]
  ```
* photo ë‚´ ulrs.pyë¥¼ ì‘ì„±í•œë‹¤.
  ```python
    from django.urls import path
    from . import views
    # í•„ìš”í•œ ê²ƒì„ ì„í¬íŠ¸í•œë‹¤.
    urlpatterns = [
        path('',views.photo_list,name='photo_list'),
        path('photo/<int:pk>/',views.photo_detail, name='photo_detail'),
        ,
        
        # views.xxxëŠ” views í´ë” ë‚´ì˜ í•¨ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ëœ»ì´ë‹¤
        # name ="~"ëŠ” urlì˜ ì´ë¦„ì„ ì§€ì •í•´ì¤˜ì„œ ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.
    ]
  ```
* photo ì•± í´ë” ì•„ë˜ì— models.pyë¥¼ ì‘ì„±í•œë‹¤.

  
```python

    from django.db import models
    # ëª¨ë“ˆ ì„í¬íŠ¸
# Create your models here.

class Photo(models.Model):
    title = models.CharField(max_length=50)
    author = models.CharField(max_length=50)
    image = models.CharField(max_length=200)
    description = models.TextField()
    price = models.IntegerField()

    def __str__(self):
        return str(self.title)
```
  * modelsíŒŒì¼ ë‚´ì— classë¥¼ ì‘ì„±í•œë‹¤.
  *  def __str__(self) í•¨ìˆ˜ë¥¼ ì •ì˜í•¨ìœ¼ë¡œì¨ ìƒì„±ëœ classë¥¼ ì‰½ê²Œ ì•Œì•„ ë³¼ ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ adminí˜ì´ì§€ì—ì„œ ì•Œì•„ë³´ê¸° ì‰½ê²Œ í‘œí˜„í•´ì¤€ë‹¤.

  * models.py ë‚´ë¶€ì— ì‘ì„±ëœ classë“¤ì€ makemigrationê³¼ migrateë¥¼ í†µí•´ì„œ í•´ë‹¹í•˜ëŠ” DBì˜ ì»¬ëŸ¼ì´ ëœë‹¤.
<p style="text-align:center"><img src='./image/%EB%A7%88%EB%A6%AC%EC%95%84db%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4.JPG
' width='300'></p>

3. views ì‘ì„±
* photo ì•± í´ë” ì•ˆì— ìˆëŠ” views.pyë¥¼ ì‘ì„±í•œë‹¤(<span style="font-size: 10px">ë‚´ìš©ì´ ë§ì•„ ìµœìƒë‹¨ ë‘ í•¨ìˆ˜ë§Œì„ ë³´ê¸°ë¡œ í–ˆë‹¤.</span>)

```python
    from django.shortcuts import render, get_object_or_404, redirect
    from .models import Photo
    from .forms import PhotoForm
    from django.core.files.storage import default_storage
    from django.core.files.base import ContentFile
    from django.http import HttpResponse
    # ëª¨ë“ˆ ì„í¬íŠ¸

    def photo_list(request):
         # url photo_list ë¦¬ìŠ¤íŠ¸ê°€ ì°¸ì¡°í•˜ëŠ” views
        photo = Photo.objects.all()
        return render(request,'photo/photo_list.html',{'photos':photo})
        # ë¦¬í„´ê°’ìœ¼ë¡œ ì‹¤í–‰ë  htmlì˜ ê²½ë¡œì™€ ì´ë¦„ ê·¸ë¦¬ê³  dictionaryí˜•íƒœë¡œ ê°’ì„ ë„˜ê²¨ì¤€ë‹¤.
        

       
       
    def photo_detail(request,pk):
        # url photo_detail ë¦¬ìŠ¤íŠ¸ê°€ ì°¸ì¡°í•˜ëŠ” views
        photo = get_object_or_404(Photo,id=pk)
        # get_object_or_404 ê°ì²´ê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ ì—ëŸ¬ëŒ€ì‹  404ë¥¼ ë°œìƒí•˜ì—¬ ì•Œë ¤ì¤€ë‹¤.
        # get_object_or_404ëŠ” photoì—ì„œ id=pkì¸ ê°’ì„ ì°¾ì•„ ê°€ì§€ê³ ì˜¨ë‹¤.
        return render(request,'photo/photo_detail.html',{'photo':photo})
```
* renderëŠ” django.shortcuts íŒ¨í‚¤ì§€ì— ìˆëŠ” í•¨ìˆ˜ì´ë©°, ë‹¤ìŒê³¼ ê°™ì€ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì§„ë‹¤.
   ```python
   render(request, template_name, context=None,content_type=None, status=None, using=None)
   ```
  * requestì™€ ì‹¤í•´ì‹œì¼¤ì¤„ template_name(ìœ„ì˜ ì½”ë“œì—ì„œëŠ” photo_detail.html)ì€ í•„ìˆ˜ë¡œ ì…ë ¥ë˜ì–´ì•¼í•˜ëŠ” íŒŒë¼ë¯¸í„°ì´ë‹¤
  
  * ê·¸ ë’¤ë¡œëŠ” ê°™ì´ ë„˜ê²¨ì¤„ ê°’ì„ dictionary í˜•íƒœë¡œ ì…ë ¥í•œë‹¤. 

* redirectëŠ” django.shortcuts íŒ¨í‚¤ì§€ì— ìˆëŠ” í•¨ìˆ˜ì´ë©°, ë‹¤ìŒê³¼ ê°™ì€ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì§„ë‹¤.

    ```python
        redirect(to, *args, permanent=False, **kwargs)
    ```
    * to : ì´ë™í•  urlì„ ì§€ì •í•œë‹¤.